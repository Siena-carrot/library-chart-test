<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>あなたにおすすめの図書館チャート</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f0f0f0;
      text-align: center;
      padding: 30px;
    }
    .box {
      background-color: #fff;
      border-radius: 10px;
      padding: 20px;
      margin: 20px auto;
      width: 80%;
      max-width: 500px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    button {
      margin: 10px;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>

  <h1>📚 あなたにおすすめの図書館チャート</h1>

  <div class="box" id="questionBox">
    <p id="questionText">ここに質問を入力①</p>
    <button onclick="choose('yes')">はい</button>
    <button onclick="choose('no')">いいえ</button>
  </div>

  <div class="box hidden" id="resultBox">
    <h2 id="resultText">ここに結果を入力①</h2>
    <button onclick="restart()">もう一度やる</button>
  </div>

  <script>
    // トーナメント形式の質問と分岐
    const tree = {
      question: "新しいものが好き",
      yes: {
        question: "他人の視線が気になるほうだ", 
        yes: {
          question: "未知の世界に行きたい", 
          yes: { result: "中央区立 晴海図書館" },
          no:  { result: "荒川区立 尾久図書館" }
        },
        no: {
          question: "ハイテクなものが好き",
          yes: { result: "いわき市立 いわき総合図書館" },
          no:  { result: "那須塩原市立 中央図書館 みるる" }
        }
      },
      no: {
        question: "ファンタジーが好き", 
        yes: {
          question: "迷路が好き",
          yes: { result: "目黒区立 目黒区民センター図書館" },
          no:  { result: "吹田市立 山田駅前図書館" }
        },
        no: {
          question: "木とレンガなら木のほうが好き",
          yes: { result: "佐久市立 浅科図書館" },
          no:  { result: "函館市中央図書館" }
        }
      }
    };

    let currentNode = tree;

    function choose(answer) {
      currentNode = currentNode[answer];
      if (currentNode.result) {
        showResult(currentNode.result);
      } else {
        document.getElementById("questionText").textContent = currentNode.question;
      }
    }

    function showResult(resultText) {
      document.getElementById("resultText").textContent = resultText;
      document.getElementById("questionBox").classList.add("hidden");
      document.getElementById("resultBox").classList.remove("hidden");
    }

    function restart() {
      currentNode = tree;
      document.getElementById("questionText").textContent = currentNode.question;
      document.getElementById("questionBox").classList.remove("hidden");
      document.getElementById("resultBox").classList.add("hidden");
    }

    // 初期化
    document.getElementById("questionText").textContent = tree.question;
  </script>

</body>
</html>